<!DOCTYPE html>
<html lang="es">
<head >
	<!-- Favicons -->
	<link rel="apple-touch-icon" href="https://www.cfn.fin.ec/wp-content/themes/cfn/img/favicon.png"/>
	<link rel="icon" href="https://www.cfn.fin.ec/wp-content/themes/cfn/img/favicon.png"/>
	<link rel="icon" href="https://www.cfn.fin.ec/wp-content/themes/cfn/img/favicon.ico"/>

	<title>CFN - Juega</title>

	<!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	
	<!-- BootstrapCDN 4 -->
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
	
	<!-- bootstrap 4 js -->
	<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" ></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" ></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" ></script>

	<!-- iconos -->
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
	<link rel="stylesheet" href="https://fontawesome.com/v4.7.0/assets/css/site.css">

	<!-- mi estilo animacion -->
	<script src="https://code.createjs.com/1.0.0/createjs.min.js"></script>

	<!-- animación css -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.2/animate.min.css">

	<!-- Mi estilos -->
	<link rel="stylesheet" href="css/fuente.css">
    <link rel="stylesheet" href="css/estilo.css">
</head>
<body>
	<div class="container">
		<div class="row">
            <div class="col cabeceraFormulario">
                <p>
                    <img src="images/logo.svg" alt="corporacion financiera nacional" style="width: 200px;">
                </p>
                <h1 style="padding: 0px;margin: 0px;">
                    VALORACIÓN EXPERIMENTAL DE PROYECTOS
                </h1>
            </div>
		</div>
	</div>
	<div class="container">
		<div class="row">
			<div class="col">
				<h2>
                    <strong> Proyecto 4: Elaboración de compotas, mermeladas, jaleas y similares.</strong>
				</h2>
				<h3>
                    Ubicación: El Pangui, Zamora Chinchipe <br>
                </h3>
                <p>
                    <b>Capacidad:</b>
                    La empresa se dedica a la elaboración de compotas, mermeladas y jaleas, purés y otras confituras de frutas o frutos secos, así como la venta al por menor de café y cacao. Se desea montar una planta, adquirir maquinarias y equipos, capital de trabajo operativo para la planta procesadora y capital de trabajo de administración y ventas. Se estima que durante los 2 primeros años tendrá un total por ventas de $145 mil anual.
                </p>
                <p>
                    <b>Especificaciones y Valoración:</b> A continuación elige el valor que consideres adecuado para cada rubro a partir de tus conocimientos, experiencia o estimación personal. Mientras más te acerques al valor real, mayor será tu puntaje.
                </p>
			</div>
		</div>
	</div>
	<div class="container">
		<div class="row">
			<div class="col-xs-12">
				<form class="estadisticaFuncionarios" action="encuestaFuncionariosDos.html" method="">
                    <div class="contenedores">
                        <p>
                            <b>Terreno: </b>
                            Predio rural de 54 mil m2 en El Pangui, Zamora Chinchipe
                        </p>
                        <div id="alinearTypeRadios1" onclick="todosLosSeleccionados(this.getElementsByTagName('input'),this.id)">
                            <label><input type="radio" name="maquinaria" id="a1" data-valor1="0" data-valor2="40"  value="a) menos de $40 mil" required   > a) menos de $40 mil</label>
                            <label><input type="radio" name="maquinaria" id="a2" data-valor1="40" data-valor2="50"  value="b) entre $35 mil y $45 mil"  > b) entre $40 mil y $50 mil</label>
                            <label><input type="radio" name="maquinaria" id="a3" data-valor1="50" data-valor2="60"  value="c) entre $45 mil y $55 mil"  > c) entre $50 mil y $60 mil</label>
                            <label><input type="radio" name="maquinaria" id="a4" data-valor1="60" data-valor2="70"  value="d) entre $55 mil y $65 mil"  > d) entre $60 mil y $70 mil</label>
                            <label><input type="radio" name="maquinaria" id="a5" data-valor1="70" data-valor2="0"  value="e) más de $70 mil"           > e) más de $70 mil</label>
                        </div>
                    </div>
                    <div class="contenedores">
                        <p></p>
                        <p>
                            <b>Capital de Trabajo Operativo y Administrativo: </b>
                             Materia prima de cacao seco, café tostado y café lavado, frutos naturales y leche para hacer mermeladas, frascos para envasar mermeladas y manjares, bolsas para envasar café, y fundas para envasar cacao), suministros y servicios (electricidad, agua potable y teléfono), mano de obra (técnico, contador y personal de venta), inventario inicial  (stock del cliente), y gastos pre operativos (gastos del cliente en permisos de construcción, patentes, etc.). Se considera un factor caja de 90 días
                        </p>
                        <div id="alinearTypeRadios2" onclick="todosLosSeleccionados(this.getElementsByTagName('input'),this.id)">
                            <label><input type="radio" name="capital" id="b1" data-valor1="0" data-valor2="35" value="a) menos de $35 mil" required   > a) menos de $35 mil</label>
                            <label><input type="radio" name="capital" id="b2" data-valor1="35" data-valor2="45" value="b) entre $35 mil y $45 mil"     > b) entre $35 mil y $45 mil</label>
                            <label><input type="radio" name="capital" id="b3" data-valor1="45" data-valor2="55" value="c) entre $45 mil y $55 mil"     > c) entre $45 mil y $55 mil</label>
                            <label><input type="radio" name="capital" id="b4" data-valor1="55" data-valor2="65" value="d) entre $55 mil y $65 mil"     > d) entre $55 mil y $65 mil</label>
                            <label><input type="radio" name="capital" id="b5" data-valor1="65" data-valor2="0" value="e) más de $65 mil"              > e) más de $65 mil</label>
                        </div>
                    </div>
                    <div class="contenedores">
                        <p></p>
                        <p>
                            <b>Construcción de Planta:</b>
                            160 m2,  con obras preliminares de excavación y relleno, estructura, contrapisos, mampostería, instalaciones sanitarias, acabados interiores, oficina, área de almacenamiento y producción, galpón. 
                        </p>
                        <div id="alinearTypeRadios3" onclick="todosLosSeleccionados(this.getElementsByTagName('input'),this.id)">
                            <label><input type="radio" name="mueble" id="c1" data-valor1="0" data-valor2="35"   value="a) menos de $35 mil" required    > a) menos de $35 mil</label>
                            <label><input type="radio" name="mueble" id="c2" data-valor1="35" data-valor2="45"  value="b) entre $35 mil y $45 mil"      > b) entre $35 mil y $45 mil</label>
                            <label><input type="radio" name="mueble" id="c3" data-valor1="45" data-valor2="55"  value="c) entre $45 mil y $55 mil"      > c) entre $45 mil y $55 mil</label>
                            <label><input type="radio" name="mueble" id="c4" data-valor1="55" data-valor2="65"  value="d) entre $55 mil y $65 mil"      > d) entre $55 mil y $65 mil</label>
                            <label><input type="radio" name="mueble" id="c5" data-valor1="65" data-valor2="0"   value="e) más de $65 mil"               > e) más de $65 mil</label>
                        </div>
                    </div>
                    <div class="contenedores">
                        <p></p>
                        <p>
                            <b>18 Máquinas con su Importación, Instalación y Accesorios:</b>
                            Descarrillador de cacao modelo WINDCRAKER 50, Molino primario modelo MINIREX para pasta/polvo de cacao, Molino fino refinador conchador para pasta de chocolate MONTY, Templadora continua CHOCOTEMP 15 con Bañadora, Bomba de chocolate CHOCOPUMP 36, Tanque térmico para chocolate CHOCOTANK, Lote de 100 moldes de policarbonato, Túnel de enfriamiento para chocolates FRIGOBELT 100, Empacadora automática de chocolates CHOKOPACK 250, Conexión tubería térmica de acero inoxidable 304 con codos y bridas (3 metros), Bombo grageador PEARLMAKER PLUS 40 con sistema de Spray, Torre de enfriamiento de agua FTB-N-20 de 78000 Kcal/hora 250 litros/min, Tostadora de café QUANTIK JD-1500, Dosadora automática, Trilladora de café modelo 600, Secadora de café, Molino eléctrico para café, Selladora de funda, Codificadora de bolsas
                        </p>
                        <div id="alinearTypeRadios4" onclick="todosLosSeleccionados(this.getElementsByTagName('input'),this.id)">
                            <label><input type="radio" name="equipos" id="d1" data-valor1="0" data-valor2="100"     value="a) menos de $100 mil" required > a) menos de $100 mil</label>
                            <label><input type="radio" name="equipos" id="d2" data-valor1="100" data-valor2="200"   value="b) entre $100 mil y $200 mil"  > b) entre $100 mil y $200 mil</label>
                            <label><input type="radio" name="equipos" id="d3" data-valor1="200" data-valor2="300"   value="c) entre $200 mil y $300 mil"  > c) entre $200 mil y $300 mil</label>
                            <label><input type="radio" name="equipos" id="d4" data-valor1="300" data-valor2="400"   value="d) entre $300 mil y $400 mil"  > d) entre $300 mil y $400 mil</label>
                            <label><input type="radio" name="equipos" id="d5" data-valor1="400" data-valor2="0"     value="e) más de $400 mil"            > e) más de $400 mil</label>
                        </div>
                    </div>
					<div class="content-btn"> 
						<button type="button" class="btn btn-primary btn-lg btn-block" onclick="guardarenLocaleirasiguiente()"><i class="fa fa-gamepad" aria-hidden="true"></i> SIGUIENTE</button>
					</div>
				</form>
			</div>
		</div>
	</div>
    <div style="width: 100%;height:100px"></div>
    <div class="resultado">
        <p> VALOR TOTAL</p>
        <input type='text' value='0' disabled id="sumando">
        <p style="background-color: white;"> TEMPORIZADOR</p>
        <input type='text' value='03:00:00' disabled id="temporizador">
    </div>
    <script >
        //ids por modulos
        let idArray = ['alinearTypeRadios1', 'alinearTypeRadios2', 'alinearTypeRadios3', 'alinearTypeRadios4'];
        
        //valor por modulo, cada input seleccionado inicia sus dos lados en 0
        let idValor1 = [0,0];
        let idValor2 = [0,0];
        let idValor3 = [0,0];
        let idValor4 = [0,0];

        // id selecionados por modulo
        let selecIds1 = '';
        let selecIds2 = '';
        let selecIds3 = '';
        let selecIds4 = '';

        // id de sumas
        let sumando = document.getElementById('sumando');
        let temporizador = document.getElementById('temporizador');

        function sumaTotal(v1,v2)
        {
            var textoDelate = 'Entre $';
            var textoEnmedio = ' mil y $';
            var textoFinal = ' mil';

            //var menosde =   sumando.value = 'Menos de $' + v1 + ' mil'; (selecIds1 != 'a5' && selecIds2 != 'b5' && selecIds3 != 'c5' && selecIds4 != 'd5')
            //var masde =     sumando.value = 'Más de $' + v2 + ' mil';

            if(
                ((selecIds1 == 'a2' || selecIds1 == 'a3' || selecIds1 == 'a4') ||
                 (selecIds2 == 'b2' || selecIds2 == 'b3' || selecIds2 == 'b4') ||
                 (selecIds3 == 'c2' || selecIds3 == 'c3' || selecIds3 == 'c4') ||
                 (selecIds4 == 'd2' || selecIds4 == 'd3' || selecIds4 == 'd4')) &&
                 (selecIds1 != 'a5' && selecIds2 != 'b5' && selecIds3 != 'c5' && selecIds4 != 'd5')
              )
            {
                sumando.value = textoDelate + v1 + textoEnmedio + v2 + textoFinal;
            }
            else if((selecIds1 == 'a1' && selecIds2 == 'b1' && selecIds3 == 'c1' && selecIds4 == 'd1') || v1 == 0)
            {
                sumando.value = 'Menos de $' + v2 + ' mil';
            }
            else
            {
                sumando.value = 'Más de $' + v1 + ' mil';
            }         
        }

        function irSumando(e,id)
        {
            var idVl1 = 0;
            var idVl2 = 0;

            var v1 = parseInt(e.dataset.valor1);
            var v2 = parseInt(e.dataset.valor2);

            switch (id) {
                case idArray[0]:
                    idValor1 = [v1,v2];
                    idVl1 = idValor1[0] + idValor2[0] + idValor3[0] + idValor4[0];
                    idVl2 = idValor1[1] + idValor2[1] + idValor3[1] + idValor4[1];
                    console.log('este es el id: ' + e.id);
                    selecIds1 = e.id;
                    sumaTotal(idVl1,idVl2);
                    break;
                case idArray[1]:
                    idValor2 = [v1,v2];
                    idVl1 = idValor1[0] + idValor2[0] + idValor3[0] + idValor4[0];
                    idVl2 = idValor1[1] + idValor2[1] + idValor3[1] + idValor4[1];
                    console.log('este es el id: ' + e.id);
                    selecIds2 = e.id;
                    sumaTotal(idVl1,idVl2);
                    break;
                case idArray[2]:
                    idValor3 = [v1,v2];
                    idVl1 = idValor1[0] + idValor2[0] + idValor3[0] + idValor4[0];
                    idVl2 = idValor1[1] + idValor2[1] + idValor3[1] + idValor4[1];
                    console.log('este es el id: ' + e.id);
                    selecIds3 = e.id;
                    sumaTotal(idVl1,idVl2);
                    break;
                case idArray[3]:
                    idValor4 = [v1,v2];
                    idVl1 = idValor1[0] + idValor2[0] + idValor3[0] + idValor4[0];
                    idVl2 = idValor1[1] + idValor2[1] + idValor3[1] + idValor4[1];
                    console.log('este es el id: ' + e.id);
                    selecIds4 = e.id;                  
                    sumaTotal(idVl1,idVl2);
                    break;
                default:
                    console.log('aun no hay valores');
            }
        }

        function todosLosSeleccionados(inputs,idMadre)
        {
            for(var j = 0; j < inputs.length; j++ )
            {
                if(inputs[j].checked)
                {
                    irSumando(inputs[j],idMadre);
                }
            }
        }
        /***************TEMPORIZADOR*************************/
        var tiempoGlobo = 0;
        var min = 2;
        var seg = 59;
        var mils = 59;
        
        cronometro();
        function cronometro()
        {
            if(tiempoGlobo==0)
            {
                ejecutaCronometro();
            }
            else
            {
                tiempoGlobo = 0;
            }
        }

        /*++++++++++++++++++++++++Funcion que hace que los***************************/
        function ejecutaCronometro()
        {
            if(mils < 0)
            {
                --seg;
                mils = 59;
            }
            else if (seg < 0)
            {
                --min;
                seg = 59;
            }
            else if(min == 0 && seg == 0 && mils == 0)
            {
                clearTimeout(tiempoGlobo);
                guardarenLocaleirasiguiente();
                //window.location = "encuestaFuncionariosDos.html";
                return;
            }
            else{
                --mils;
            }
            temporizador.value = LeadingZero(min) + ':' + LeadingZero(seg) + ':' + LeadingZero(mils);
            tiempoGlobo = setTimeout("ejecutaCronometro()", 15);//15 es el tiempo de milesegundos para que cuando llegue a sesenta marque un segundo
        }
        function LeadingZero(Time) {
            return (Time < 10) ? "0" + Time : + Time;
        }
        /////////////////////////////////////////////////
        
        function guardarenLocaleirasiguiente()
        {
            // id de sumas
            var idSenalados = [selecIds1,selecIds2,selecIds3,selecIds4,'sumando','temporizador'];
            var valoresFormulario = ['Encuesta4-valor1','Encuesta4-valor2','Encuesta4-valor3','Encuesta4-valor4','Encuesta4-sumaTotal','Encuesta4-temporizador'];
            for (var i = 0; i < idSenalados.length; i++)
            {
                if (idSenalados[i] != '')
                {
                    localStorage.setItem(valoresFormulario[i], document.getElementById(idSenalados[i]).value);
                }
                else
                {
                    localStorage.setItem(valoresFormulario[i], 'vacio');
                }
            }
            window.location = "gracias.html";
        }
	</script>	
</body>
</html>